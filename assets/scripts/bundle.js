var fontsProject;fontsProject=typeof exports!=="undefined"&&exports!==null?exports:this;fontsProject.Font=function(){function Font(fontName,family,weights,author){this.fontName=fontName;this.family=family;this.weights=weights;this.author=author;this.listEl().append(this.El());this.loadCss()}Font.prototype.El=function(){var El;El=$(".list .item").first().clone();El.find(".sample").attr("style","font-family: "+this.family);El.find(".fontName a").html(this.fontName);El.find("a.author").html(this.author);El.find("a[href*='/font']").attr("href","/font/about/"+this.family);return El};Font.prototype.listEl=function(){return $(".list")};Font.prototype.loadCss=function(){var cssURI="http://"+window.location.hostname+"/font/css/"+this.family;$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",cssURI))};Font.prototype.subscribeEvents=function(){var thisTags;thisTags=this;this.el().hover(thisTags.hoverIn,thisTags.hoverOut);return $(".tagContainer").live("click",thisTags.addTag)};return Font}();var fontsProject;fontsProject=this;fontsProject.FontSelector=function(){var stickySamplerBottom;function FontSelector(){this.subscribeEvents()}FontSelector.prototype.el=function(){return $("#sampler")};FontSelector.prototype.bottomGradient=$("<div class='stickySamplerBottom'></div>");FontSelector.prototype.topHidder=stickySamplerBottom=$("<div class='stickySamplerTop'></div>");FontSelector.prototype.addBottomGradient=function(){return this.el().after(this.bottomGradient)};FontSelector.prototype.addTopHidder=function(){return this.el().before(this.topHidder)};FontSelector.prototype.clearGradientAndHidder=function(){$(".stickySamplerTop").remove();return $(".stickySamplerBottom").remove()};FontSelector.prototype.historyButton=function(){return $(".history")};FontSelector.prototype.fonts=function(){return $(".item")};FontSelector.prototype.options=function(){return $(".options")};FontSelector.prototype.usageURIEl=function(){return $("#usageURI")};FontSelector.prototype.weightSelector=function(){return $("#weightSelector")};FontSelector.prototype.usageURI=function(){var baseURL="http://serve.fontsproject.com/css?family=",family=$(".main").attr("data-fontfamily").replace(/\s/g,"+"),checkedWeights=$(".weightSelector").find(":checked"),weights=[],url;checkedWeights.each(function(idx,el){weights.push($(el).val())});return baseURL+family+":"+weights.join(",")};FontSelector.prototype.subscribeEvents=function(){var $window,samplerTop,thisFontSelector;thisFontSelector=this;$window=$(window);if(this.el().offset()!=null){samplerTop=thisFontSelector.el().offset().top}$window.scroll(function(e){var samplerShouldStick;samplerShouldStick=$window.scrollTop()+15>samplerTop;if(!samplerShouldStick){thisFontSelector.clearGradientAndHidder()}if(samplerShouldStick){thisFontSelector.addBottomGradient()&&thisFontSelector.addTopHidder()}return thisFontSelector.el().toggleClass("sticky",samplerShouldStick)});this.historyButton().click(function(){return $(this).toggleClass("active")});$window.load(function(){});$(".weightSelector input").click(function(event){var checkedWeights=$(":checked").length;if(checkedWeights<1){return false}else{return thisFontSelector.usageURIEl().html("&lt;link href=&#39;"+thisFontSelector.usageURI()+"&#39; rel =&#39;stylesheet&#39; type='text/css'&gt;")}})};return FontSelector}();$(function(){var createCookie,eraseCookie,i,readCookie,samples,scroll,steps,t,update_samples;createCookie=function(name,value,days){var date,expires;if(days){date=new Date;date.setTime(date.getTime()+days*24*60*60*1e3);expires="; expires="+date.toGMTString()}else{expires=""}return document.cookie=name+"="+escape(value)+expires+"; path=/"};readCookie=function(name){var c,ca,escaped_value,i,nameEQ;nameEQ=name+"=";ca=document.cookie.split(";");i=0;while(i<ca.length){c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)===0){escaped_value=c.substring(nameEQ.length,c.length);return unescape(escaped_value)}i++}return null};eraseCookie=function(name){return createCookie(name,"",-1)};update_samples=function(str){return $(".list .item .sample").html(str)};scroll=$("#resize .control .scroll");samples=$(".list .sample");steps={0:12,9:14,18:16,27:18,36:21,45:24,54:30,63:36,72:48,81:60,90:72,99:96,108:144,124:166};t=0;i=0;while(i<139){if(steps[i]){t=steps[i]}else{steps[i]=t}i++}$("#resize").on("mousedown",function(event){$("#resize .control .scroll").addClass("active");var originalRight,originalX;originalX=event.pageX;originalRight=parseInt(scroll.css("right"));$(window).on("mousemove",function(event){var dest;dest=originalRight+(originalX-event.pageX);dest=Math.max(Math.min(dest,124),0);scroll.css("right",dest+"px");return samples.css("font-size",steps[dest]+"px")});$(window).on("mouseup",function(){$(window).off("mousemove");$("#resize .control .scroll").removeClass("active");return $(window).off("  select")});return false});return $(".selectable").each(function(){var $this,input,oldValue,options,sessionSample;$this=$(this);options=$this.children(".options");input=$this.children("input");options.hide();$this.children(".history").on("click",function(event){event.stopPropagation();return options.toggle()});$("html").click(function(){if(options.css("display")==="block"){options.toggle();return $(".history").removeClass("active")}});input.on("keyup",function(){if(input.val()===""){update_samples(options.find("div[rel=default] .text").html());return}options.find("[rel=custom] .text").html(input.val());options.hide();return update_samples(input.val())});input.on("change",function(){$("[rel=custom]").addClass("fromCookie");createCookie("sampler",input.val(),7);return createCookie("samplerSession",input.val(),0)});options.children("div").on("click",function(){$(".history").removeClass("active");$(this).addClass("active").siblings("div").removeClass("active");if($(this).attr("rel")==="custom"&&!$(this).hasClass("fromCookie")){input.focus()}else{input.val($(this).find(".text").html());update_samples(input.val())}return options.hide()});sessionSample=readCookie("samplerSession");if(sessionSample){options.find("[rel=custom]").addClass("active");input.val(sessionSample);update_samples(sessionSample)}oldValue=readCookie("sampler");if(oldValue){return options.children("[rel=custom]").addClass("fromCookie").children(".text").html(oldValue)}})});var fontsProject;fontsProject=typeof exports!=="undefined"&&exports!==null?exports:this;fontsProject.SocialNav=function(){function SocialNav(){this.subscribeEvents()}SocialNav.prototype.el=function(){return $(".socialNav")};SocialNav.prototype.icon=function(){return this.el().find(".icon")};SocialNav.prototype.sep=function(){return this.el().find(".sep")};SocialNav.prototype.buttons=function(){return this.el().find(".button")};SocialNav.prototype.showButtons=function(){var thisSocialNav;thisSocialNav=this;this.icon().addClass("active");this.sep().animate({opacity:1},135);return setTimeout(function(){return thisSocialNav.buttons().animate({left:0},150)},200)};SocialNav.prototype.hideButtons=function(){var thisSocialNav;thisSocialNav=this;this.icon().removeClass("active");this.buttons().animate({left:-250},150);return setTimeout(function(){return thisSocialNav.sep().animate({opacity:0},135)},200)};SocialNav.prototype.hoverIn=function(){var thisSocialNav;thisSocialNav=this;if(thisSocialNav.el().hasClass("opened")){clearTimeout(thisSocialNav.hoverOutTimeout)}return thisSocialNav.el().addClass("opened")};SocialNav.prototype.hoverOut=function(){var thisSocialNav;thisSocialNav=this;return thisSocialNav.hoverOutTimeout=setTimeout(function(){thisSocialNav.el().removeClass("opened");return thisSocialNav.hideButtons()},350)};SocialNav.prototype.iconHoverIn=function(){var thisSocialNav;thisSocialNav=this;return thisSocialNav.showButtons()};SocialNav.prototype.buttonsHoverIn=function(){if(!$(this).hasClass("text")){return $(this).css({top:"0px",opacity:"0.7"})}};SocialNav.prototype.buttonsHoverOut=function(){if(!$(this).hasClass("text")){return $(this).css({top:"0px",opacity:"1"})}};SocialNav.prototype.subscribeEvents=function(){var thisSocialNav;thisSocialNav=this;return $(window).ready(function(){thisSocialNav.el().mouseenter(function(){return thisSocialNav.hoverIn()});thisSocialNav.el().mouseleave(function(){return thisSocialNav.hoverOut()});thisSocialNav.icon().mouseenter(function(){return thisSocialNav.iconHoverIn()});return thisSocialNav.buttons().hover(thisSocialNav.buttonsHoverIn,thisSocialNav.buttonsHoverOut)})};return SocialNav}();var fontsProject;fontsProject=typeof exports!=="undefined"&&exports!==null?exports:this;fontsProject.Tags=function(){function Tags(){this.addCorners();this.subscribeEvents()}Tags.prototype.el=function(){return $(".tagContainer")};Tags.prototype.right=function(){return'<div class="tag-right"></div>'};Tags.prototype.left=function(){return'<div class="tag-left"></div>'};Tags.prototype.addCorners=function(){return;var tag,thisTags,_i,_len,_ref,_results;thisTags=this;_ref=thisTags.el();_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){tag=_ref[_i];$(tag).before(thisTags.right);_results.push($(tag).after(thisTags.left))}return _results};Tags.prototype.hoverIn=function(){var thisTag;thisTag=$(this);thisTag.find(".tag").addClass("light");thisTag.find(".tag-right").addClass("light");return thisTag.find(".tag-left").addClass("light")};Tags.prototype.hoverOut=function(){thisTag=$(this);thisTag.find(".tag").removeClass("light");thisTag.find(".tag-right").removeClass("light");return thisTag.find(".tag-left").removeClass("light")};Tags.prototype.toggleTag=function(){if($(this).hasClass("current_tag")){window.location.href="/font/list";return false}var name;name=$(this).attr("data-tag-name");$.getJSON("/font/tag_json/"+name).done(function(fonts){$(fonts).each(function(idx,font){var parsedFont=JSON.parse(font);var fontObject=new Font(parsedFont["name"],parsedFont["family"],parsedFont.weights,parsedFont.author)})})};Tags.prototype.subscribeEvents=function(){var thisTags;thisTags=this;this.el().hover(thisTags.hoverIn,thisTags.hoverOut);return $(".tagContainer").live("click",thisTags.toggleTag)};return Tags}();var exports;exports=window;$(window).ready(function(){(function(){var weightSelector=$("#weightSelector");if(!weightSelector)return;weightSelector.change(function(){var option=$("#weightSelector :selected"),name=option.val(),familyName=$(".main").attr("data-fontfamily"),weightName=option.attr("data-name"),weight=option.attr("data-weight"),style=option.attr("data-style"),newCss={"font-weight":weight,"font-style":style};$("table").attr("style","font-weight:"+weight+"!important; font-style:"+style+"!important");if(style=="None"){newCss["font-style"]="normal"}$(".displayFont").css(newCss);$(".variantName").html(name);if(typeof history=="undefined"){return}var newUrl="/font/display/"+familyName+"/"+weightName;history.replaceState({},document.title,newUrl)})})();var shareBar=function($,exports){var siteUrl="http://www.fontsproject.co.il";var shareText=encodeURI("גופני רשת עבריים, בחינם!");var shareOnTwitter=function(){var url="https://twitter.com/intent/tweet?text="+siteUrl+" "+shareText;window.open(url,"name","height=420,width=550")};var shareOnGooglePlus=function(){var url="https://plus.google.com/share?url="+siteUrl;window.open(url,"name","height=600,width=600")};var shareOnFacebook=function(){var url="http://www.facebook.com/sharer.php?u="+siteUrl;window.open(url,"name","height=420,width=550")};$(".button.twitter").click(shareOnTwitter);$(".button.google").click(shareOnGooglePlus);$(".button.facebook").click(shareOnFacebook);$("input.failed").live("keydown",function(){$(this).next().animate({opacity:0});$(this).removeClass("failed")});var $newsLetterForm=$(".newsletter");$newsLetterForm.submit(function(event){event.preventDefault();var isLegit=true;$newsLetterForm.find("input").each(function(idx,input){if($(input).val()===""){isLegit=false;$(input).addClass("failed").next().animate({opacity:1})}});if(isLegit){var name=$("[name='name']").val(),email=$("[name='email']").val();$.post("/subscribe",{name:name,email:email});$newsLetterForm.hide();$newsLetterForm.find("input").val("");$(".newsLetterText .original").hide();$(".newsLetterText .success").show();$(".resetForm").on("click",function(event){$(".newsLetterText .original").show();$(".newsLetterText .success").hide();$newsLetterForm.show()});setTimeout(function(){$(".toFade").css("color","#666");setTimeout(function(){$(".toFade").css("color","#5bb54c")},1e3);$newsLetterForm.addClass("success")},1e3)}return false})}(jQuery,window);exports.shareBar=shareBar;var fontSelector,socialNav,tags;var currentUrl=window.location.pathname.replace(/%20/g," ");var parentUrl=currentUrl.split("/").splice(0,currentUrl.split("/").length-1).join("/");$("a[href='"+currentUrl+"']").addClass("active").removeAttr("href").css("cursor","normal").parents("li").addClass("active");$("a[href='"+parentUrl+"']").addClass("active").removeAttr("href").css("cursor","normal").parents("li").addClass("active");$(".side-nav > li").live("click",function(){if(!$(this).hasClass("active"))return window.location=$(this).find("a").attr("href")});socialNav=new SocialNav;tags=new Tags;exports.fontSelector=new FontSelector;exports.asd="asd";return $(window).ready(function(){var $main,$sidebar;$("input").focusin(function(){$(this).attr("data-placholder",$(this).attr("placeholder"));return $(this).attr("placeholder","")});$("input").focusout(function(){return $(this).attr("placeholder",$(this).attr("data-placholder"))});$sidebar=$(".sidebar");$main=$(".main");if($sidebar.height()>$main.height()){$sidebar.css("border-right",$main.css("border-left"));return $main.css("border-left","none")}})});